{"version":3,"sources":["SN-2-features/f2-profile/ProfileInfo/ProfileData/ProfileData.module.css","HOC/WithAuthRedirect.tsx","SN-3-common/Paginator/Paginator.module.css","SN-2-features/f1-login/l1-ui/Login.module.css","utils/validators/validators.ts","SN-3-common/FormControls/FormControls.module.css","photo/samurai-robot-head-esport-mascot-logo_160921-34-removebg-preview.png","HOC/withSuspense.tsx","SN-1-main/m2-bll/app-selectors.ts","Types/api-types.ts","SN-1-main/m3-dal/instance-api.ts","SN-2-features/f1-login/l3-dal/auth-api.ts","SN-2-features/f1-login/l3-dal/security-api.ts","SN-2-features/f1-login/l2-bll/auth-reducer.tsx","SN-1-main/m2-bll/app-reducer.tsx","SN-3-common/preLoader/preLoader.tsx","SN-2-features/f8-settings/n1-ui/Settings.tsx","SN-2-features/f6-music/m1-ui/Music.tsx","SN-3-common/Page404/Page404.tsx","photo/commonAvatar.png","SN-2-features/f4-users/u1-ui/User/User.tsx","SN-2-features/f4-users/u2-bll/users-selectors.tsx","SN-2-features/f4-users/u1-ui/User/UserSearchForm.tsx","utils/object-helpers/object-helpers.tsx","SN-2-features/f4-users/u3-dal/users-api.ts","SN-2-features/f4-users/u2-bll/users-reducer.tsx","SN-3-common/Paginator/Paginator.tsx","SN-3-common/Paginator/p1-ant/PaginatorAnt.tsx","SN-2-features/f4-users/u1-ui/Users.tsx","SN-2-features/f4-users/u1-ui/UsersPage.tsx","SN-2-features/f2-profile/p2-bll/profile-selectors.ts","SN-2-features/f2-profile/p3-dal/profile-api.ts","SN-2-features/f2-profile/p2-bll/profile-reducer.tsx","SN-2-features/f2-profile/ProfileInfo/ProfileStatus/ProfileStatus.tsx","SN-2-features/f2-profile/ProfileInfo/ProfileData/ProfileData.tsx","SN-2-features/f2-profile/ProfileInfo/ProfileDataForm/ProfileDataForm.tsx","SN-2-features/f2-profile/ProfileInfo/ProfileInfo.tsx","SN-2-features/f2-profile/MyPosts/Post/Post.tsx","SN-2-features/f2-profile/MyPosts/MyPosts.tsx","SN-2-features/f2-profile/p1-ui/ProfileContent.tsx","SN-2-features/f2-profile/p1-ui/ProfileContentContainerAPI.tsx","SN-2-features/f1-login/l2-bll/auth-selectors.ts","SN-2-features/f1-login/l1-ui/l2-old-features/LoginLabel.tsx","SN-2-features/f1-login/l1-ui/Login.tsx","SN-3-common/routes/Routes.tsx","SN-3-common/Nav/Nav.tsx","SN-3-common/Header/Header.tsx","SN-1-main/m2-bll/redux-store.tsx","SN-1-main/m1-ui/App.tsx","index.tsx","SN-2-features/f3-dialogs/d2-bll/dialogs-reducer.tsx","SN-2-features/f5-chat/c3-dal/chat-api.ts","SN-2-features/f5-chat/c2-bll/chat-reducer.ts","SN-3-common/Page404/Page404.module.css","SN-2-features/f4-users/u1-ui/Users.module.css","SN-3-common/Header/Header.module.css","SN-2-features/f2-profile/MyPosts/Post/Post.module.css","SN-3-common/FormControls/FormControls.tsx","SN-2-features/f2-profile/MyPosts/MyPosts.module.css","SN-3-common/preLoader/preLoader.module.css"],"names":["module","exports","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","WrappedComponent","connect","restProps","to","required","value","undefined","maxLengthCreator","maxLength","length","withSuspense","props","Suspense","fallback","ResultCodesEnum","ResultCodeForCaptcha","getIsInitialized","app","isInitialized","instance","axios","create","baseURL","withCredentials","headers","AuthAPI","get","then","res","data","post","delete","securityAPI","initialState","userId","email","login","captchaUrl","error","authActions","type","payload","getAuthUserDataTC","dispatch","a","meData","resultCode","Success","id","console","log","loginTC","loginData","CaptchaRequired","Error","getCaptchaUrl","messages","message","captchaData","url","authReducer","action","appActions","appReducer","PreLoader","className","st","loader","l_main","l_square","Settings","Music","Page404","style","pnf","status","title","subTitle","extra","href","PROFILE_PATH","User","React","memo","user","followingInProgress","followTC","unfollowTC","disable","some","src","photos","small","commonAvatar","userAvatar","alt","followed","disabled","onClick","name","getUsers","createSelector","usersPage","users","filter","u","getPageSize","pageSize","getTotalUsers","totalUsersCount","getCurrentPage","currentPage","getIsFetching","isFetching","getFollowingInProgress","getUsersFilter","usersSearchFormValidate","values","UserSearchForm","onFilterChanged","useSelector","initialValues","term","friend","String","validate","onSubmit","setSubmitting","isSubmitting","component","icon","SearchOutlined","updateObjectInArray","items","itemId","objPropName","newObjProps","map","usersAPI","startFollowUsers","startUnfollowUsers","usersAction","count","getUsersTC","totalCount","_followUnfollowFlow","apiMethod","actionCreator","usersReducer","Paginator","onPageChanged","pagesCount","Math","ceil","pages","i","push","portionCount","useState","floor","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","p","cn","selectedPage","pageNumber","e","PaginatorAnt","showQuickJumper","defaultCurrent","total","onChange","Users","useDispatch","history","useHistory","useEffect","parsed","queryString","location","search","substr","actualPage","actualFilter","page","Number","query","pathname","useCallback","follow","bind","unfollow","getPostData","profilePage","postData","getStatus","getIsAuth","profileAPI","put","photoFile","formData","FormData","append","v1","likesCount","profile","getUserProfile","profileData","profileActions","setUserProfile","updateUserStatus","setUserStatus","deletePostAC","postId","savePhotoSucces","addPostAC","profileReducer","newPost","ProfileStatus","isOwner","editMode","setEditMode","localStatus","setStatus","onDoubleClick","autoFocus","currentTarget","onBlur","Contact","contactTitle","contactValue","ProfileData","description","lookingForAJob","lookingForAJobDescription","fullName","aboutMe","Object","keys","contacts","key","ProfileDataFormRedux","reduxForm","form","handleSubmit","createField","MyInput","Textarea","ProfileInfo","savePhoto","saveProfile","updateStatus","target","files","large","commonLogo","thisAva","Post","wrapper","wrapper_i","item","img","messageBox","buttonsBlock","body","button","button_line","button_line_top","button_line_right","button_line_bottom","button_line_left","likes","MyPosts","postsData","reverse","onAddPost","newPostText","AddNewPostFormRedux","Profile","ProfileContentContainerAPI","this","match","params","authorizedUserId","getUserStatus","refreshProfile","prevProps","prevState","Component","compose","statusData","file","photoData","getState","stopSubmit","_error","Promise","reject","withRouter","getLogin","getError","LoginLabel","Login","resetError","onFinish","loginForm","Item","help","validateStatus","rules","prefix","placeholder","Password","iconRender","visible","valuePropName","noStyle","loginFormForgot","htmlType","loginFormButton","SIGN_IN_PATH","DIALOGS_PATH","USERS_PATH","CHAT_PATH","NEWS_PATH","PAGE_NOT_FOUND_PATH","Routes","path","render","exact","SuspendedDialogs","SuspendedChat","from","SubMenu","Menu","Nav","theme","mode","UserOutlined","CommentOutlined","TeamOutlined","UserAddOutlined","CustomerServiceOutlined","SoundOutlined","SettingOutlined","FileOutlined","HeaderM","loginBlock","reducers","combineReducers","dialogsPage","dialogsReducer","formReducer","chat","chatReducer","store","createStore","composeWithDevTools","applyMiddleware","thunkMiddleware","window","Header","Layout","Content","Footer","Sider","DialogContainer","lazy","ChatContainer","AppHooks","collapsed","setCollapsed","minHeight","collapsible","onCollapse","logoNew","margin","textAlign","SamuraiJSApp","basename","process","ReactDOM","document","getElementById","messageData","dialogsData","dialogsActions","sendMessage","newMessageBody","subscribers","ws","closeHandler","notifySubscribersAboutStatus","setTimeout","createChannel","messageHandler","newMessages","JSON","parse","forEach","s","openHandler","errorHandler","cleanUp","removeEventListener","close","WebSocket","addEventListener","chatAPI","eventName","callback","send","actions","_newMessageHandler","newMessageHandlerCreator","_statusChangedHandler","statusChangedHandlerCreator","startMessagesListening","stopMessagesListening","m","index","array","FormControl","meta","touched","children","hasError","formControl","input","validators","text"],"mappings":"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","file":"static/js/main.3715ba8c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"description\":\"ProfileData_description__3rCA2\",\"thisPhoto\":\"ProfileData_thisPhoto__3yS4m\",\"thisLogo\":\"ProfileData_thisLogo__3HAbP\",\"thisAva\":\"ProfileData_thisAva__2DQSa\"};","import React from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {AppRootStateType} from '../SN-1-main/m2-bll/redux-store';\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state: AppRootStateType) => ({\r\n    isAuth: state.auth.isAuth\r\n\r\n} as withAuthRedirectPropsType);\r\n\r\ntype DispatchPropsType = {}\r\n\r\nexport function withAuthRedirect<WCP>(WrappedComponent: React.ComponentType<WCP>) {\r\n\r\n\r\n    const RedirectComponent: React.FC<withAuthRedirectPropsType & DispatchPropsType> = ({isAuth, ...restProps}) => {\r\n        if (!isAuth) return <Redirect to={'/login'}/>;\r\n        return <WrappedComponent {...restProps as WCP}/>;\r\n    };\r\n\r\n    return connect<withAuthRedirectPropsType, DispatchPropsType, WCP, AppRootStateType>(mapStateToPropsForRedirect, {})(RedirectComponent);\r\n}\r\n\r\ntype withAuthRedirectPropsType = {\r\n    isAuth: boolean\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1FJsE\",\"pageNumber\":\"Paginator_pageNumber__3FFTx\",\"selectedPage\":\"Paginator_selectedPage__1jAes\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginForm\":\"Login_loginForm__2YLqY\",\"loginFormForgot\":\"Login_loginFormForgot__YIznX\",\"antColRtl\":\"Login_antColRtl__2lgRv\",\"loginFormButton\":\"Login_loginFormButton__3hVNo\"};","export const required: FieldValidatorType = (value) => {\r\n    return value ? undefined : 'Field is required';\r\n};\r\n\r\n\r\nexport const maxLengthCreator = (maxLength: number):FieldValidatorType => (value) => {\r\n    return value && value.length > maxLength ? `Must be less ${maxLength} symbols` : undefined;\r\n};\r\n\r\nexport type FieldValidatorType = (value: string) => string | undefined\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__xtC2A\",\"error\":\"FormControls_error__1pt0w\"};","export default __webpack_public_path__ + \"static/media/samurai-robot-head-esport-mascot-logo_160921-34-removebg-preview.e6f9cbfd.png\";","import React from 'react';\r\n\r\n\r\nexport function withSuspense  <WCP>(WrappedComponent: React.ComponentType<WCP>)  {\r\n    return (props: WCP) => {\r\n        return <React.Suspense fallback={<div>Loading</div>}><WrappedComponent {...props}/></React.Suspense>\r\n\r\n    };\r\n\r\n};\r\n\r\n","import {AppRootStateType} from './redux-store';\r\n\r\nexport const getIsInitialized = (state: AppRootStateType): boolean => {\r\n    return state.app.isInitialized\r\n};\r\n","export type MeResponseDataType = {\r\n    id: number\r\n    email: string\r\n    login: string\r\n}\r\nexport type LoginResponseDataType = {\r\n    userId: number\r\n}\r\nexport type LoginParamsType = {\r\n    email?: string | undefined\r\n    password?: string | undefined\r\n    rememberMe?: boolean | undefined\r\n    captcha?: null | string\r\n}\r\nexport type APIResponseType<D = {}, RC = ResultCodesEnum> = {\r\n    data: D\r\n    messages: Array<string>\r\n    resultCode: RC\r\n}\r\n\r\nexport enum ResultCodesEnum {\r\n    Success = 0,\r\n    Error = 1,\r\n}\r\n\r\nexport enum ResultCodeForCaptcha {\r\n    CaptchaRequired = 10\r\n}\r\n","import axios from 'axios';\r\n\r\nexport const instance = axios.create({\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': '78abceff-cb7c-4815-8b56-016c67d0625d'\r\n    }\r\n});\r\n","import {\r\n    APIResponseType,\r\n    LoginParamsType,\r\n    LoginResponseDataType,\r\n    MeResponseDataType,\r\n    ResultCodeForCaptcha,\r\n    ResultCodesEnum\r\n} from '../../../Types/api-types';\r\nimport {instance} from '../../../SN-1-main/m3-dal/instance-api';\r\n\r\n\r\nexport const AuthAPI = {\r\n    me() {\r\n        return instance.get<APIResponseType<MeResponseDataType>>(`auth/me`).then(res => res.data);\r\n    },\r\n    login(data: LoginParamsType) {\r\n        return instance.post<APIResponseType<LoginResponseDataType, ResultCodesEnum | ResultCodeForCaptcha>>('auth/login', data).then(res => res.data);\r\n        // return instance.post<any>('auth/login', data)\r\n    },\r\n    logout() {\r\n        return instance.delete<APIResponseType<LoginResponseDataType>>('auth/login').then(res => res.data);\r\n    }\r\n};\r\n\r\n\r\n","import {instance} from '../../../SN-1-main/m3-dal/instance-api';\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get<{ url: string }>(`security/get-captcha-url`);\r\n    }\r\n};\r\n\r\n","import {AuthAPI} from '../l3-dal/auth-api';\r\nimport {LoginParamsType, ResultCodeForCaptcha, ResultCodesEnum} from '../../../Types/api-types';\r\nimport {securityAPI} from '../l3-dal/security-api';\r\nimport {BaseThunkType, InferActionsTypes} from '../../../Types/Types';\r\n\r\n\r\nconst initialState = {\r\n    userId: null as (number | null),\r\n    email: null as string | null,\r\n    login: null as string | null,\r\n    isAuth: false,\r\n    captchaUrl: null as string | null,\r\n    error: ''\r\n\r\n};\r\n\r\nconst authReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'AUTH/SET_USER_DATA':\r\n            return {\r\n                ...state, ...action.payload\r\n            };\r\n        case  'AUTH/SET_ERROR' :\r\n            debugger\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n\r\n            };\r\n        case 'AUTH/GET_CAPTCHA_URL_SUCCESS':\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\nexport const authActions = {\r\n    setAuthUserData: (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => ({\r\n        type: 'AUTH/SET_USER_DATA', payload: {\r\n            userId, email, login, isAuth\r\n        }\r\n    } as const),\r\n    setError: (error: string) => (\r\n        {type: 'AUTH/SET_ERROR', payload: {error}} as const),\r\n    getCaptchaUrlSuccess: (captchaUrl: string) => (\r\n        {type: 'AUTH/GET_CAPTCHA_URL_SUCCESS', payload: {captchaUrl}} as const),\r\n\r\n};\r\nexport const getAuthUserDataTC = (): ThunkType => async (dispatch) => {\r\n    try {\r\n        const meData = await AuthAPI.me();\r\n        if (meData.resultCode === ResultCodesEnum.Success) {\r\n            let {id, email, login} = meData.data;\r\n            dispatch(authActions.setAuthUserData(id, email, login, true));\r\n        }\r\n    } catch (e) {\r\n        console.log('Some error with getAuthUserDataTC');\r\n    }\r\n\r\n};\r\nexport const loginTC = (data: LoginParamsType): ThunkType => async (dispatch) => {\r\n    try {\r\n        const loginData = await AuthAPI.login(data);\r\n        switch (loginData.resultCode) {\r\n            case  ResultCodesEnum.Success:\r\n                await dispatch(getAuthUserDataTC());\r\n                break;\r\n            case ResultCodeForCaptcha.CaptchaRequired:\r\n                await dispatch(getCaptchaUrl());\r\n                break;\r\n            case  ResultCodesEnum.Error:\r\n                console.log('error');\r\n                debugger\r\n                dispatch(authActions.setError(loginData.messages[0]));\r\n\r\n\r\n        }\r\n    } catch (error) {\r\n\r\n        dispatch(authActions.setError(error.message));\r\n    }\r\n\r\n};\r\nexport const getCaptchaUrl = (): ThunkType => async (dispatch) => {\r\n    try {\r\n        const captchaData = await securityAPI.getCaptchaUrl();\r\n        const captchaUrl = captchaData.data.url;\r\n        dispatch(authActions.getCaptchaUrlSuccess(captchaUrl));\r\n    } catch (e) {\r\n        console.log('Some error with getCaptchaUrl');\r\n    }\r\n\r\n\r\n};\r\nexport const logoutTC = (): ThunkType => async (dispatch) => {\r\n    try {\r\n        const logoutData = await AuthAPI.logout();\r\n        if (logoutData.resultCode === 0) {\r\n            dispatch(authActions.setAuthUserData(null, null, null, false));\r\n        }\r\n    } catch (e) {\r\n        console.log('Some error with logoutTC');\r\n    }\r\n\r\n};\r\n\r\ntype  InitialStateType = typeof initialState\r\ntype ActionsType = InferActionsTypes<typeof authActions>\r\ntype ThunkType = BaseThunkType<ActionsType>\r\n\r\n\r\nexport default authReducer;\r\n","import {getAuthUserDataTC} from '../../SN-2-features/f1-login/l2-bll/auth-reducer';\r\nimport {BaseThunkType, InferActionsTypes} from '../../Types/Types';\r\n\r\n\r\nconst initialState = {\r\n    isInitialized: false\r\n};\r\n\r\nconst appReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'APP/SET_IS_INITIALIZED':\r\n            return {\r\n                ...state,\r\n                isInitialized: true,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const appActions = {\r\n    setInitialized: () => ({type: 'APP/SET_IS_INITIALIZED'} as const)\r\n};\r\n\r\nexport const setInitializedTC = (): ThunkType => async (dispatch) => {\r\n    try {\r\n        await dispatch(getAuthUserDataTC());\r\n        dispatch(appActions.setInitialized());\r\n    } catch (e) {\r\n        console.log(e);\r\n        console.log('Some error with setInitializedTC');\r\n    }\r\n\r\n};\r\ntype ActionsType = InferActionsTypes<typeof appActions>\r\ntype  InitialStateType = typeof initialState\r\ntype ThunkType = BaseThunkType<ActionsType>\r\n\r\nexport default appReducer;\r\n","import {Field, Form, Formik} from 'formik';\r\nimport React from 'react';\r\nimport st from './preLoader.module.css';\r\n\r\n\r\nconst PreLoader: React.FC = () => {\r\n    return <div className={st.loader}>\r\n        <div className={st.l_main}>\r\n            <div className={st.l_square}><span></span><span></span><span></span></div>\r\n            <div className={st.l_square}><span></span><span></span><span></span></div>\r\n            <div className={st.l_square}><span></span><span></span><span></span></div>\r\n            <div className={st.l_square}><span></span><span></span><span></span></div>\r\n\r\n        </div>\r\n    </div>;\r\n\r\n};\r\n\r\n\r\n\r\n\r\nexport default PreLoader;\r\n","import React from 'react';\r\n\r\n\r\nfunction Settings() {\r\n    return (\r\n        <div><div>Settings</div></div>\r\n    )\r\n\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\n\r\n\r\n function Music() {\r\n    return (\r\n        <div><div>Music</div></div>\r\n    )\r\n\r\n}\r\n\r\nexport default Music;\r\n\r\n","import {Button, Result} from 'antd';\r\nimport React from 'react';\r\nimport style from './Page404.module.css'\r\nimport {PROFILE_PATH} from '../routes/Routes';\r\n\r\n\r\nexport const Page404: React.FC = () => {\r\n\r\n    return <section className={style.pnf}>\r\n        {/*<div className={style.pnf_error}> 404</div>*/}\r\n        {/*<p className={style.pnf_descr}>Sorry, Page not Found...</p>*/}\r\n        <Result\r\n            status=\"404\"\r\n            title=\"404\"\r\n            subTitle=\"Sorry, the page you visited does not exist.\"\r\n            extra={<Button type=\"primary\" href={PROFILE_PATH}>Back to Profile</Button>}\r\n        />\r\n    </section>\r\n}","export default __webpack_public_path__ + \"static/media/commonAvatar.da05b2b0.png\";","import React from 'react';\r\n\r\nimport st from '../Users.module.css';\r\nimport commonAvatar from '../../../../photo/commonAvatar.png';\r\nimport {Link} from 'react-router-dom';\r\nimport {userType} from '../../../../Types/Types';\r\nimport {PROFILE_PATH} from '../../../../SN-3-common/routes/Routes';\r\n\r\n\r\ntype UserType = {\r\n    user: userType\r\n    followingInProgress: Array<number>\r\n    followTC: (userId: number) => void\r\n    unfollowTC: (userId: number) => void\r\n\r\n}\r\n\r\nconst User: React.FC<UserType> = React.memo(({user, followingInProgress, followTC, unfollowTC}) => {\r\n\r\n    const unfollow = () => {\r\n        unfollowTC(user.id);\r\n    }\r\n    const follow = () => {\r\n        followTC(user.id);\r\n    }\r\n    const disable = followingInProgress.some(id => id === user.id)\r\n    return (\r\n        <div key={user.id}>\r\n                                <span>\r\n                                    <div>\r\n                                        <Link to={PROFILE_PATH + '/' + user.id}>\r\n                                        <img src={user.photos.small != null\r\n                                            ? user.photos.small\r\n                                            : commonAvatar} className={st.userAvatar} alt=\"avatar\"/>\r\n                                            </Link>\r\n                                    </div>\r\n                                    <div>\r\n                                        {user.followed ?\r\n                                            <button disabled={disable}\r\n                                                    onClick={unfollow}>Unfollow</button> :\r\n                                            <button disabled={disable}\r\n                                                    onClick={follow}>Follow</button>}\r\n                                    </div>\r\n                                </span>\r\n            <span>\r\n                                    <div> <b>{user.name}</b></div>\r\n                <div><b>Status :</b> <span>{user.status || 'What are you doing?'}</span></div>\r\n                                </span>\r\n\r\n        </div>\r\n    );\r\n})\r\n\r\n\r\nexport default User;\r\n","import {createSelector} from 'reselect';\r\nimport {FilterType} from './users-reducer';\r\nimport {AppRootStateType} from '../../../SN-1-main/m2-bll/redux-store';\r\nimport {userType} from '../../../Types/Types';\r\n\r\n\r\nconst getUsersSelector = (state: AppRootStateType) => {\r\n    return state.usersPage.users;\r\n};\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users):Array<userType> => {\r\n    return users.filter(u => true);\r\n}); // пример\r\n\r\nexport const getPageSize = (state: AppRootStateType): number => {\r\n    return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getTotalUsers = (state: AppRootStateType): number => {\r\n    return state.usersPage.totalUsersCount;\r\n};\r\nexport const getCurrentPage = (state: AppRootStateType): number => {\r\n    return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state: AppRootStateType): boolean => {\r\n    return state.usersPage.isFetching;\r\n};\r\nexport const getFollowingInProgress = (state: AppRootStateType): Array<number> => {\r\n    return state.usersPage.followingInProgress;\r\n};\r\nexport const getUsersFilter = (state: AppRootStateType): FilterType => {\r\n    return state.usersPage.filter;\r\n};\r\n\r\n","import {SearchOutlined} from '@ant-design/icons';\r\nimport {Button} from 'antd';\r\nimport {Field, Form, Formik} from 'formik';\r\nimport React from 'react';\r\nimport {useSelector} from 'react-redux';\r\nimport {FilterType} from '../../u2-bll/users-reducer';\r\nimport {getUsersFilter} from '../../u2-bll/users-selectors';\r\n\r\ntype FriendFormType = 'true' | 'false' | 'null'\r\n\r\ntype FormType = {\r\n    term: string\r\n    friend: 'true' | 'false' | 'null'\r\n}\r\ntype PropsType = {\r\n    onFilterChanged: (filter: FilterType) => void\r\n}\r\n\r\nconst usersSearchFormValidate = (values: any) => {\r\n    const errors = {};\r\n    return errors\r\n}\r\n\r\nexport const UserSearchForm: React.FC<PropsType> = React.memo(({onFilterChanged}) => {\r\n\r\n    const filter = useSelector(getUsersFilter)\r\n    const submit = (values: FormType, {setSubmitting}: { setSubmitting: (isSubmitting: boolean) => void }) => {\r\n        const filter: FilterType = {\r\n            term: values.term,\r\n            friend: values.friend === 'null' ? null : values.friend === 'true' ? true : false\r\n        }\r\n        onFilterChanged(filter)\r\n        setSubmitting(false)\r\n    }\r\n    return <div>\r\n        <Formik\r\n            initialValues={{term: filter.term, friend: String(filter.friend) as FriendFormType}}\r\n            validate={usersSearchFormValidate}\r\n            onSubmit={submit}\r\n        >\r\n            {({isSubmitting}) => (\r\n                <Form>\r\n                    <Field\r\n                        id=\"term\"\r\n                        name=\"term\"\r\n                        type=\"text\"\r\n                    />\r\n                    <Field\r\n                        component=\"select\"\r\n                        id=\"location\"\r\n                        name=\"friend\"\r\n\r\n                    >\r\n                        <option value=\"null\">All</option>\r\n                        <option value=\"true\">Only followed</option>\r\n                        <option value=\"false\">Only unfollowed</option>\r\n                    </Field>\r\n                    <Button type=\"primary\" disabled={isSubmitting} icon={<SearchOutlined/>}>\r\n                        Search\r\n                    </Button>\r\n                    <button type=\"submit\" disabled={isSubmitting}>Submit</button>\r\n                </Form>)}\r\n        </Formik>\r\n    </div>\r\n})\r\n\r\n","export const updateObjectInArray = (items:Array<any>,itemId:any,objPropName:any,newObjProps:any)=>{\r\n  return  items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps};\r\n        }\r\n        return u;\r\n    })\r\n\r\n\r\n}\r\n\r\n","import {instance} from '../../../SN-1-main/m3-dal/instance-api';\r\nimport {APIResponseType} from '../../../Types/api-types';\r\nimport {userType} from '../../../Types/Types';\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number = 1, pageSize: number = 10, term: string = '', friend: null | boolean = null) {\r\n        return instance.get<ResponseItemsType>(`users?page=${currentPage}&count=${pageSize}&term=${term}` +\r\n            (friend === null ? '' : `&friend=${friend}`));\r\n    },\r\n    startFollowUsers(userId: number) {\r\n        return instance.post<APIResponseType>(`follow/${userId}`).then(res => res.data);\r\n    },\r\n    startUnfollowUsers(userId: number) {\r\n        return instance.delete(`follow/${userId}`).then(res => res.data) as Promise<APIResponseType>;\r\n    },\r\n\r\n\r\n};\r\n\r\n\r\ntype ResponseItemsType = {\r\n    items: Array<userType>\r\n    totalCount: number\r\n    error: string | null\r\n}\r\n","import {Dispatch} from 'redux';\r\nimport {BaseThunkType, InferActionsTypes, userType} from '../../../Types/Types';\r\nimport {updateObjectInArray} from '../../../utils/object-helpers/object-helpers';\r\nimport {usersAPI} from '../u3-dal/users-api';\r\nimport {APIResponseType, ResultCodesEnum} from '../../../Types/api-types';\r\n\r\n\r\nconst initialState = {\r\n    users: [] as Array<userType>,\r\n    pageSize: 10,\r\n    totalUsersCount: 1,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [] as Array<number>,\r\n    filter: {\r\n        term: '',\r\n        friend: null as null | boolean\r\n    }\r\n};\r\n\r\n\r\nconst usersReducer = (state: StateProfile = initialState, action: ActionType): StateProfile => {\r\n\r\n    switch (action.type) {\r\n        case 'USERS/FOLLOW':\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n            };\r\n        case 'USERS/UNFOLLOW':\r\n            return {\r\n                ...state, users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n            };\r\n        case 'USERS/SET_USERS':\r\n            return {...state, users: action.users};\r\n        case 'USERS/SET_PAGE':\r\n            return {...state, currentPage: action.currentPage};\r\n        case  'USERS/SET_TOTAL_USER_COUNT':\r\n            return {...state, totalUsersCount: action.count};\r\n        case 'USERS/TOGGLE_IS_FETCHING':\r\n            return {...state, isFetching: action.isFetching};\r\n        case 'USERS/TOGGLE_IS_FOLLOWING_PROGRESS':\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            };\r\n        case 'USERS/SET_FILTER': {\r\n            return {\r\n                ...state,\r\n                filter: action.payload\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\nexport const usersAction = {\r\n    followUser: (userId: number) => ({type: 'USERS/FOLLOW', userId} as const),\r\n    unfollowUser: (userId: number) => ({type: 'USERS/UNFOLLOW', userId} as const),\r\n    setUsers: (users: Array<userType>) => ({type: 'USERS/SET_USERS', users} as const),\r\n    setPage: (currentPage: number) => ({type: 'USERS/SET_PAGE', currentPage} as const),\r\n    setFilter: (filter: FilterType) => ({type: 'USERS/SET_FILTER', payload: filter} as const),\r\n    setTotalUsersCount: (totalUsersCount: number) => ({\r\n        type: 'USERS/SET_TOTAL_USER_COUNT',\r\n        count: totalUsersCount\r\n    } as const),\r\n    toggleIsFetching: (isFetching: boolean) => ({type: 'USERS/TOGGLE_IS_FETCHING', isFetching} as const),\r\n    toggleFollowingProgress: (isFetching: boolean, userId: number) => ({\r\n        type: 'USERS/TOGGLE_IS_FOLLOWING_PROGRESS',\r\n        isFetching,\r\n        userId\r\n    } as const)\r\n};\r\nexport const getUsersTC = (currentPage: number, pageSize: number, filter: FilterType): ThunkType => async (dispatch) => {\r\n    try {\r\n        dispatch(usersAction.toggleIsFetching(true));\r\n        dispatch(usersAction.setPage(currentPage));\r\n        dispatch(usersAction.setFilter(filter))\r\n\r\n        const data = await usersAPI.getUsers(currentPage, pageSize, filter.term, filter.friend);\r\n        dispatch(usersAction.toggleIsFetching(false));\r\n        dispatch(usersAction.setUsers(data.data.items));\r\n        dispatch(usersAction.setTotalUsersCount(data.data.totalCount));\r\n    } catch (e) {\r\n        console.log('Error with getUsersTC');\r\n    }\r\n};\r\n\r\nconst _followUnfollowFlow = async (dispatch: Dispatch<ActionType>,\r\n                                   userId: number,\r\n                                   apiMethod: (userId: number) => Promise<APIResponseType>,\r\n                                   actionCreator: (userId: number) => ActionType) => {\r\n    try {\r\n        dispatch(usersAction.toggleFollowingProgress(true, userId));\r\n        // dispatch(actionCreator(userId))\r\n        const data = await apiMethod(userId);\r\n\r\n\r\n        if (data.resultCode === ResultCodesEnum.Success) {\r\n            dispatch(actionCreator(userId));\r\n        }\r\n        dispatch(usersAction.toggleFollowingProgress(false, userId));\r\n    } catch (e) {\r\n        console.log('Error with _followUnfollowFlow ');\r\n    }\r\n}\r\nexport const followTC = (userId: number): ThunkType => async (dispatch) => {\r\n    try {\r\n        let apiMethod = usersAPI.startFollowUsers.bind(usersAPI);\r\n        await _followUnfollowFlow(dispatch, userId, apiMethod, usersAction.followUser);\r\n    } catch (e) {\r\n        console.log('Error with followTC');\r\n    }\r\n};\r\nexport const unfollowTC = (userId: number): ThunkType => async (dispatch) => {\r\n    try {\r\n        let apiMethod = usersAPI.startUnfollowUsers.bind(usersAPI);\r\n        await _followUnfollowFlow(dispatch, userId, apiMethod, usersAction.unfollowUser);\r\n    } catch (e) {\r\n        console.log('Error with unfollowTC');\r\n    }\r\n};\r\n\r\nexport type StateProfile = typeof initialState\r\ntype ActionType = InferActionsTypes<typeof usersAction>\r\ntype ThunkType = BaseThunkType<ActionType>\r\nexport type FilterType = typeof initialState.filter\r\n\r\nexport default usersReducer;\r\n","import React, {useState} from 'react';\r\nimport cn from 'classnames';\r\nimport st from './Paginator.module.css';\r\n\r\n\r\ntype PropsType = {\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n    pageSize: number\r\n    portionSize?: number\r\n}\r\n\r\nconst Paginator: React.FC<PropsType> = ({totalUsersCount, pageSize, currentPage, onPageChanged}) => {\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    let portionSize = 10;\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(Math.floor(currentPage / 10) + 1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n    return (\r\n\r\n        <div className={st.paginator}>\r\n            {portionNumber > 1 &&\r\n            <button onClick={() => {\r\n                setPortionNumber(portionNumber - 1);\r\n            }}>Prev</button>}\r\n\r\n\r\n            {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map(p => {\r\n                    return <span className={cn({[st.selectedPage]: currentPage === p}, st.pageNumber)}\r\n                                 key={p}\r\n                                 onClick={(e) => {\r\n                                     onPageChanged(p);\r\n                                 }}>{p}</span>;\r\n                })}\r\n\r\n            {portionCount > portionNumber &&\r\n            <button onClick={() => {\r\n                setPortionNumber(portionNumber + 1);\r\n            }\r\n            }>NEXT</button>}\r\n\r\n        </div>);\r\n};\r\n\r\n\r\nexport default Paginator;\r\n","import {Pagination} from 'antd';\r\nimport React from 'react';\r\n\r\nfunction onChange(pageNumber: any) {\r\n    console.log('Page: ', pageNumber);\r\n}\r\n\r\ntype PropsType = {\r\n    totalUsersCount?: number\r\n    currentPage?: number\r\n    onPageChanged?: (pageNumber: number) => void\r\n    pageSize?: number\r\n    portionSize?: number\r\n}\r\n\r\nexport const PaginatorAnt: React.FC<PropsType> = ({totalUsersCount, onPageChanged}) => {\r\n    return (\r\n        <div>\r\n            <Pagination showQuickJumper defaultCurrent={1} total={totalUsersCount} onChange={onPageChanged}/>\r\n        </div>\r\n\r\n\r\n    )\r\n\r\n}\r\n\r\n\r\n","import React, {useCallback, useEffect} from 'react';\r\nimport User from './User/User';\r\nimport {UserSearchForm} from './User/UserSearchForm';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\n\r\nimport {useHistory} from 'react-router-dom';\r\nimport * as queryString from 'querystring';\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getPageSize,\r\n    getTotalUsers,\r\n    getUsers,\r\n    getUsersFilter\r\n} from '../u2-bll/users-selectors';\r\nimport {FilterType, followTC, getUsersTC, unfollowTC} from '../u2-bll/users-reducer';\r\nimport Paginator from '../../../SN-3-common/Paginator/Paginator';\r\nimport {userType} from '../../../Types/Types';\r\nimport {PaginatorAnt} from '../../../SN-3-common/Paginator/p1-ant/PaginatorAnt';\r\n\r\n\r\ntype PropsType = {}\r\ntype QueryParamsType = { term?: string; page?: string; friend?: string }\r\nexport const Users: React.FC<PropsType> = (props) => {\r\n    const dispatch = useDispatch();\r\n    const totalUsersCount = useSelector(getTotalUsers);\r\n    const currentPage = useSelector(getCurrentPage);\r\n    const pageSize = useSelector(getPageSize);\r\n    const followingInProgress = useSelector(getFollowingInProgress);\r\n    const users = useSelector(getUsers);\r\n    const filter = useSelector(getUsersFilter);\r\n\r\n    const history = useHistory()\r\n    useEffect(() => {\r\n        const parsed = queryString.parse(history.location.search.substr(1)) as QueryParamsType\r\n        let actualPage = currentPage\r\n        let actualFilter = filter\r\n        if (!!parsed.page) actualPage = Number(parsed.page)\r\n        if (!!parsed.term) actualFilter = {...actualFilter, term: parsed.term as string}\r\n        switch (parsed.friend) {\r\n            case 'null':\r\n                actualFilter = {...actualFilter, friend: null}\r\n                break;\r\n            case 'true':\r\n                actualFilter = {...actualFilter, friend: true}\r\n                break;\r\n            case 'false':\r\n                actualFilter = {...actualFilter, friend: false}\r\n                break;\r\n        }\r\n\r\n        dispatch(getUsersTC(actualPage, pageSize, actualFilter))\r\n    }, [])\r\n    useEffect(() => {\r\n        const query: QueryParamsType = {}\r\n        if (!!filter.term) query.term = filter.term\r\n        if (filter.friend !== null) query.friend = String(filter.friend)\r\n        if (currentPage !== 1) query.page = String(currentPage)\r\n        history.push({\r\n            pathname: '/users',\r\n            search: queryString.stringify(query)\r\n        })\r\n    }, [filter, currentPage])\r\n\r\n    const onPageChanged = useCallback((pageNumber: number) => {\r\n        dispatch(getUsersTC(pageNumber, pageSize, filter));\r\n    }, [dispatch]);\r\n\r\n    const onFilterChanged = useCallback((filter: FilterType) => {\r\n        dispatch(getUsersTC(1, pageSize, filter));\r\n    }, [dispatch]);\r\n\r\n    const follow = useCallback((userId: number) => {\r\n        dispatch(followTC(userId));\r\n    }, [dispatch]);\r\n\r\n    const unfollow = useCallback((userId: number) => {\r\n        dispatch(unfollowTC(userId));\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <div>\r\n            <UserSearchForm onFilterChanged={onFilterChanged}/>\r\n            <Paginator currentPage={currentPage} onPageChanged={onPageChanged} pageSize={pageSize}\r\n                       totalUsersCount={totalUsersCount}/>\r\n            <PaginatorAnt  totalUsersCount={totalUsersCount}\r\n                           onPageChanged={onPageChanged}\r\n\r\n            />\r\n            {users.map((user: userType) => <User\r\n                unfollowTC={unfollow}\r\n                followTC={follow}\r\n                followingInProgress={followingInProgress}\r\n                user={user}\r\n                key={user.id}/>)}\r\n\r\n        </div>);\r\n};\r\n\r\n\r\n","import React from 'react';\r\nimport {useSelector} from 'react-redux';\r\nimport {Users} from './Users';\r\nimport {getIsFetching} from '../u2-bll/users-selectors';\r\nimport PreLoader from '../../../SN-3-common/preLoader/preLoader';\r\nimport {withAuthRedirect} from '../../../HOC/WithAuthRedirect';\r\n\r\ntype UserPageType = {}\r\nconst UsersPage: React.FC<UserPageType> = () => {\r\n\r\n    const isFetching = useSelector(getIsFetching);\r\n    return <div>\r\n        {isFetching ? <PreLoader/> : null}\r\n        <Users/>;\r\n    </div>;\r\n};\r\nexport default withAuthRedirect(UsersPage)\r\n","import {AppRootStateType} from '../../../SN-1-main/m2-bll/redux-store';\r\nimport {NewProfileType, PostType} from '../../../Types/Types';\r\n\r\n\r\nexport const getPostData = (state: AppRootStateType): PostType[] => {\r\n    return state.profilePage.postData;\r\n};\r\nexport const getProfile = (state: AppRootStateType): NewProfileType | null => {\r\n    return state.profilePage.profile\r\n}\r\nexport const getStatus = (state: AppRootStateType): string => {\r\n    return state.profilePage.status\r\n}\r\nexport const getIsAuth = (state: AppRootStateType): boolean => {\r\n    return state.auth.isAuth\r\n}\r\nexport const getUserId = (state: AppRootStateType): number | null => {\r\n    return state.auth.userId\r\n}\r\n","import {NewProfileType, PhotosType} from '../../../Types/Types';\r\nimport {instance} from '../../../SN-1-main/m3-dal/instance-api';\r\nimport {APIResponseType} from '../../../Types/api-types';\r\n\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: number | null) {\r\n        return instance.get<NewProfileType>(`profile/` + userId).then(res => res.data);\r\n    },\r\n    getStatus(userId: number | null) {\r\n        return instance.get<string>(`profile/status/` + userId).then(res => res.data);\r\n    },\r\n    updateStatus(status: string) {\r\n\r\n        return instance.put<APIResponseType>(`profile/status`, {status: status}).then(res => res.data);\r\n    },\r\n    savePhoto(photoFile: File) {\r\n        const formData = new FormData();\r\n        formData.append('image', photoFile);\r\n        return instance.put<APIResponseType<SavePhotosResponseType>>(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(res => res.data);\r\n    },\r\n    saveProfile(formData: NewProfileType) {\r\n        return instance.put<APIResponseType>(`profile`, formData).then(res => res.data);\r\n    }\r\n};\r\n\r\ntype SavePhotosResponseType = {\r\n    photos: PhotosType\r\n}\r\n\r\n\r\n\r\n","import {v1} from 'uuid';\r\n\r\n\r\nimport {FormAction, stopSubmit} from 'redux-form';\r\nimport {BaseThunkType, InferActionsTypes, NewProfileType, PhotosType, PostType} from '../../../Types/Types';\r\nimport {profileAPI} from '../p3-dal/profile-api';\r\nimport {ResultCodesEnum} from '../../../Types/api-types';\r\n\r\n\r\nlet initialState = {\r\n    postData: [\r\n        {\r\n            id: v1(),\r\n            message: 'Hello friendlo friendlo friendlo friendlo friendlo friendlo friendlo friendlo friendlo friendlo friendlo friendlo friend',\r\n            likesCount: 14\r\n        },\r\n        {id: v1(), message: 'Hello friend', likesCount: 14},\r\n        {id: v1(), message: 'Hello friend', likesCount: 14},\r\n        {id: v1(), message: 'Hello ', likesCount: 10},\r\n        {id: v1(), message: 'Hello ', likesCount: 10}],\r\n    profile: null as NewProfileType | null,\r\n    status: ''\r\n};\r\n\r\nconst profileReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'PROFILE/ADD_POST':\r\n            const newPost: PostType = {\r\n                id: v1(),\r\n                message: action.post,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                postData: [...state.postData, newPost],\r\n            };\r\n        case  'PROFILE/SET_USER_PROFILE':\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        case 'PROFILE/SET_USER_STATUS':\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        case 'PROFILE/DELETE_POST':\r\n            return {\r\n                ...state,\r\n                postData: state.postData.filter(p => p.id !== action.postId)\r\n            };\r\n        case 'PROFILE/SAVE_PHOTO_SUCCESS':\r\n            return {\r\n                ...state, profile: {...state.profile, photos: action.photos} as NewProfileType\r\n            };\r\n        default :\r\n            return state;\r\n    }\r\n\r\n};\r\nexport const getUserProfile = (userId: number | null): ThunkType => async (dispatch) => {\r\n    try {\r\n        const profileData = await profileAPI.getProfile(userId);\r\n        dispatch(profileActions.setUserProfile(profileData));\r\n    } catch (e) {\r\n        console.log('Some error with getUserProfileTC');\r\n    }\r\n\r\n\r\n};\r\nexport const getUserStatus = (userId: number | null): ThunkType => async (dispatch) => {\r\n    try {\r\n        const statusData = await profileAPI.getStatus(userId);\r\n        dispatch(profileActions.setUserStatus(statusData));\r\n    } catch (e) {\r\n        console.log('Some error with getUserStatusTC');\r\n    }\r\n\r\n};\r\nexport const updateUserStatus = (status: string): ThunkType => async (dispatch) => {\r\n    try {\r\n        const statusData = await profileAPI.updateStatus(status);\r\n        if (statusData.resultCode === ResultCodesEnum.Success) {\r\n            dispatch(profileActions.setUserStatus(status));\r\n        }\r\n    } catch (e) {\r\n        console.log('Some error with updateUserStatusTC');\r\n    }\r\n};\r\nexport const savePhoto = (file: File): ThunkType => async (dispatch) => {\r\n    try {\r\n        const photoData = await profileAPI.savePhoto(file);\r\n        if (photoData.resultCode === 0) {\r\n            dispatch(profileActions.savePhotoSucces(photoData.data.photos));\r\n        }\r\n    } catch (e) {\r\n        console.log('Some error with savePhoto');\r\n    }\r\n\r\n};\r\nexport const saveProfile = (formData: NewProfileType): ThunkType => async (dispatch, getState) => {\r\n    try {\r\n        const userId = getState().auth.userId;\r\n        const saveProfile = await profileAPI.saveProfile(formData);\r\n        if (saveProfile.resultCode === ResultCodesEnum.Success) {\r\n            await dispatch(getUserProfile(userId));\r\n        } else {\r\n            dispatch(stopSubmit('edit-profile', {_error: saveProfile.messages[0]}));\r\n            return Promise.reject(saveProfile.messages[0]);\r\n        }\r\n    } catch (e) {\r\n        console.log('Some error with saveProfile');\r\n    }\r\n\r\n};\r\nexport const profileActions = {\r\n    deletePostAC: (postId: string) => ({\r\n        type: 'PROFILE/DELETE_POST'\r\n        , postId\r\n    } as const),\r\n    savePhotoSucces: (photos: PhotosType) => ({\r\n        type: 'PROFILE/SAVE_PHOTO_SUCCESS'\r\n        , photos\r\n    } as const),\r\n    addPostAC: (post: string) => ({type: 'PROFILE/ADD_POST', post} as const),\r\n    setUserProfile: (profile: NewProfileType) => ({type: 'PROFILE/SET_USER_PROFILE', profile} as const),\r\n    setUserStatus: (status: string) => ({\r\n        type: 'PROFILE/SET_USER_STATUS',\r\n        status\r\n    } as const),\r\n\r\n};\r\n\r\nexport type  InitialStateType = typeof initialState\r\nexport type ActionsType = InferActionsTypes<typeof profileActions>\r\ntype ThunkType = BaseThunkType<ActionsType | FormAction>\r\n\r\n\r\nexport default profileReducer;\r\n","import React, {ChangeEvent, useEffect, useState} from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {getStatus} from '../../p2-bll/profile-selectors';\r\nimport {updateUserStatus} from '../../p2-bll/profile-reducer';\r\n\r\n\r\ntype PropsType = {\r\n    isOwner: boolean\r\n}\r\n\r\nconst ProfileStatus: React.FC<PropsType> = ({isOwner}) => {\r\n    const dispatch = useDispatch()\r\n    const status = useSelector(getStatus)\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [localStatus, setStatus] = useState(status);\r\n\r\n    useEffect(() => {\r\n        setStatus(status);\r\n    }, [status]);\r\n\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    };\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        dispatch(updateUserStatus(localStatus));\r\n    };\r\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {/*Cant change other status*/}\r\n            {!isOwner &&\r\n            <div><b>Status</b> <span>{status || 'What are you doing?'}</span></div>\r\n            }\r\n            {/*---*/}\r\n            {isOwner && !editMode && <div>\r\n                <b>Status</b> <span onDoubleClick={activateEditMode}>{status || 'What are you doing?'}</span>\r\n            </div>}\r\n            {editMode && <div><input autoFocus={true} onChange={onStatusChange} onBlur={deactivateEditMode}\r\n                                     value={localStatus}/></div>}\r\n\r\n        </div>\r\n    )\r\n        ;\r\n\r\n};\r\n\r\nexport default ProfileStatus;\r\n","import React from 'react';\r\nimport st from './ProfileData.module.css';\r\nimport {ContactsType, NewProfileType} from '../../../../Types/Types';\r\n\r\nconst Contact: React.FC<ContactsPropsType> = ({contactTitle, contactValue}) => {\r\n    return (<div>\r\n        <b>{contactTitle}</b> : {contactValue}\r\n    </div>);\r\n};\r\nconst ProfileData: React.FC<ProfileDataType> = ({profile, isOwner, editMode}) => {\r\n\r\n\r\n    return <div className={st.description}>\r\n        {isOwner && <div>\r\n            <button onClick={editMode}>edit</button>\r\n        </div>}\r\n        <div>\r\n            <b>Looking for a job</b> : {profile.lookingForAJob ? 'Yes' : 'No'}\r\n        </div>\r\n        {profile.lookingForAJob &&\r\n        <div>\r\n            <b>My professional skills</b> : {profile.lookingForAJob}\r\n        </div> && <div>\r\n            <b>I'm looking for</b> : {profile.lookingForAJobDescription}\r\n        </div>\r\n        }\r\n        <div>\r\n            <b>Full Name</b> : {profile.fullName}\r\n        </div>\r\n        <div>\r\n            <b>About me</b> : {profile.aboutMe}\r\n        </div>\r\n        <div>\r\n            <b>Contacts</b> : {Object.keys(profile.contacts).map(key => {\r\n            return <Contact key={key} contactTitle={key}\r\n                            contactValue={profile.contacts[key as keyof ContactsType]}/>;\r\n        })}\r\n        </div>\r\n    </div>;\r\n};\r\nexport default ProfileData;\r\n\r\ntype ProfileDataType = {\r\n    profile: NewProfileType\r\n    isOwner: boolean\r\n    editMode: () => void\r\n}\r\ntype ContactsPropsType = {\r\n    contactTitle: string\r\n    contactValue: string\r\n}\r\n","import React from 'react';\r\nimport {NewProfileType} from '../../../../Types/Types';\r\nimport st from '../ProfileData/ProfileData.module.css';\r\nimport {InjectedFormProps, reduxForm} from 'redux-form';\r\nimport {createField, MyInput, Textarea} from '../../../../SN-3-common/FormControls/FormControls';\r\n\r\ntype PropsType = {\r\n    profile: NewProfileType\r\n\r\n}\r\nconst ProfileDataForm: React.FC<InjectedFormProps<NewProfileType, PropsType> & PropsType> = ({\r\n                                                                                                 profile,\r\n                                                                                                 handleSubmit,\r\n                                                                                                 error\r\n\r\n                                                                                             }) => {\r\n    return <form onSubmit={handleSubmit}>\r\n        <div className={st.description}>\r\n            <div>\r\n                <button>Save</button>\r\n                {error && <div>{error}</div>}\r\n            </div>\r\n            <div>\r\n                <b>Full Name</b>: {createField('Full name', 'fullName', [], MyInput)}\r\n            </div>\r\n            <div>\r\n                <b>Looking for a job</b> :{createField('', 'lookingForAJob', [], MyInput, {type: 'checkbox'})}\r\n            </div>\r\n\r\n            <div>\r\n                <b>My professional\r\n                    skills</b> : {createField('My professional skills', 'lookingForAJobDescription', [], Textarea)}\r\n            </div>\r\n            <div>\r\n                <b>About me</b> :{createField('About me', 'aboutMe', [], Textarea)}\r\n            </div>\r\n            <div>\r\n                <b>Contacts</b> : {Object.keys(profile.contacts).map(key => {\r\n                return <div key={key}>\r\n                    <b>{key}:</b> {createField(key, 'contacts.' + key, [], MyInput)}\r\n\r\n                </div>;\r\n            })}\r\n            </div>\r\n        </div>\r\n    </form>;\r\n};\r\n\r\nconst ProfileDataFormRedux = reduxForm<NewProfileType, PropsType>({form: 'edit-profile'})(ProfileDataForm);\r\n\r\nexport default ProfileDataFormRedux;\r\n","import React, {ChangeEvent, useState} from 'react';\r\nimport {NewProfileType} from '../../../Types/Types';\r\nimport ProfileStatus from './ProfileStatus/ProfileStatus';\r\nimport commonLogo from '../../../photo/commonAvatar.png';\r\nimport st from './ProfileData/ProfileData.module.css';\r\nimport ProfileData from './ProfileData/ProfileData';\r\nimport ProfileDataForm from './ProfileDataForm/ProfileDataForm';\r\nimport PreLoader from '../../../SN-3-common/preLoader/preLoader';\r\n\r\ntype PropsType = {\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    isOwner: boolean\r\n    savePhoto: (file: File) => void\r\n    profile: NewProfileType | null\r\n    saveProfile: (profile: NewProfileType) => Promise<any>\r\n}\r\n\r\n// type ProfileTypeKeys = GetStringKeys<PropsType>,\r\n\r\n\r\nconst ProfileInfo: React.FC<PropsType> = ({isOwner, profile, savePhoto, status, updateStatus, saveProfile}) => {\r\n    const [editMode, setEditMode] = useState(false);\r\n    const goToEditMode = () => {\r\n        setEditMode(true);\r\n    };\r\n    if (!profile) {\r\n        return <div><PreLoader/></div>;\r\n    }\r\n    const onMainPhotoSelected = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files && e.target.files.length) {\r\n            savePhoto(e.target.files[0]);\r\n        }\r\n    };\r\n    const onSubmit = (profile: NewProfileType) => {\r\n        //todo:remove then\r\n        saveProfile(profile).then(() => {\r\n            setEditMode(false);\r\n        });\r\n    };\r\n\r\n\r\n    return <div>\r\n        <div>\r\n            {isOwner && <input type={'file'} onChange={onMainPhotoSelected}/>}\r\n        </div>\r\n        <img src={profile.photos.large || commonLogo} alt={'ava'} className={st.thisAva}/>\r\n\r\n        <ProfileStatus isOwner={isOwner}/>\r\n        {editMode ? <ProfileDataForm initialValues={profile} profile={profile} onSubmit={onSubmit}/> :\r\n            <ProfileData profile={profile} isOwner={isOwner} editMode={goToEditMode}/>}\r\n\r\n        {/*<ProfileStatusClass status={props.status} updateStatus={props.updateStatus}/>*/}\r\n    </div>;\r\n\r\n};\r\n\r\n\r\nexport default ProfileInfo;\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport st from './Post.module.css';\r\n\r\n\r\ntype PostType = {\r\n    id: string\r\n    message: string\r\n    likesCount: number\r\n\r\n}\r\n\r\n\r\nconst Post: React.FC<PostType> = ({id, message, likesCount}) => {\r\n    return (\r\n        <div className={`${st.wrapper} ${st.wrapper_i}`}>\r\n\r\n            <div className={`${st.item} ${st.img}`}>\r\n                <img src={'https://www.sunhome.ru/i/wallpapers/91/neitiri-v-avatar.orig.jpg'} alt={'avatar'}/>\r\n            </div>\r\n\r\n            <div key={id} className={`${st.items} ${st.messageBox}`}>\r\n                {message}\r\n            </div>\r\n            <div className={`${st.items} ${st.buttonsBlock}`}>\r\n\r\n                <div className={st.body}>\r\n                    <div className={st.button}>\r\n                        <span className={`${st.button_line} ${st.button_line_top}`}></span>\r\n                        <span className={`${st.button_line} ${st.button_line_right}`}></span>\r\n                        <span className={`${st.button_line} ${st.button_line_bottom}`}></span>\r\n                        <span className={`${st.button_line} ${st.button_line_left}`}></span>\r\n                        Like\r\n                    </div>\r\n                </div>\r\n\r\n\r\n            </div>\r\n            <div className={`${st.items} ${st.likes}`}>{likesCount}</div>\r\n\r\n        </div>\r\n\r\n\r\n    );\r\n\r\n};\r\n\r\n\r\nexport default Post;\r\n","import React, {useCallback} from 'react';\r\nimport st from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport {InjectedFormProps, reduxForm} from 'redux-form';\r\nimport {maxLengthCreator, required} from '../../../utils/validators/validators';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {getPostData} from '../p2-bll/profile-selectors';\r\nimport {profileActions} from '../p2-bll/profile-reducer';\r\nimport {createField, GetStringKeys, MyInput} from '../../../SN-3-common/FormControls/FormControls';\r\n\r\ntype PropsPType = {}\r\n\r\nexport const MyPosts: React.FC<PropsPType> = React.memo(() => {\r\n\r\n    const dispatch = useDispatch()\r\n    const postData = useSelector(getPostData)\r\n\r\n\r\n    const postsData = [...postData]\r\n        .reverse()\r\n        .map(post => <Post key={post.id} message={post.message} id={post.id} likesCount={post.likesCount}/>);\r\n\r\n    const onAddPost = useCallback((values: any) => {\r\n        dispatch(profileActions.addPostAC(values.newPostText))\r\n    }, [dispatch]);\r\n\r\n\r\n    return (\r\n        <div className={st.item}> Posts\r\n            <AddNewPostFormRedux onSubmit={onAddPost}/>\r\n            {postsData}\r\n        </div>\r\n    );\r\n});\r\n\r\nconst maxLength = maxLengthCreator(30);\r\ntype AddPostFormValuesType = {\r\n    newPostText: string\r\n}\r\ntype PropsType = {}\r\n\r\nconst AddPostForm: React.FC<InjectedFormProps<AddPostFormValuesType, PropsType> & PropsType> = ({\r\n\r\n                                                                                                    handleSubmit,\r\n                                                                                                    ...props\r\n                                                                                                }) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField<GetStringKeys<AddPostFormValuesType>>('Your post', 'newPostText', [required, maxLength], MyInput)}\r\n            <div onClick={handleSubmit} className={st.body}>\r\n                <div className={st.button}>\r\n                    <span className={`${st.button_line} ${st.button_line_top}`}></span>\r\n                    <span className={`${st.button_line} ${st.button_line_right}`}></span>\r\n                    <span className={`${st.button_line} ${st.button_line_bottom}`}></span>\r\n                    <span className={`${st.button_line} ${st.button_line_left}`}></span>\r\n                    Add Me\r\n                </div>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nconst AddNewPostFormRedux = reduxForm<AddPostFormValuesType, PropsType>({form: 'ProfileAddNewPostForm'})(AddPostForm);\r\n\r\nexport default MyPosts;\r\n","import React from 'react';\r\nimport ProfileInfo from '../ProfileInfo/ProfileInfo';\r\nimport MyPosts from '../MyPosts/MyPosts';\r\nimport {NewProfileType} from '../../../Types/Types';\r\n\r\n\r\nexport const Profile: React.FC<PropsType> = React.memo(({\r\n                                                            savePhoto,\r\n                                                            isOwner,\r\n                                                            profile,\r\n                                                            status,\r\n                                                            updateStatus,\r\n                                                            saveProfile\r\n                                                        }) => {\r\n\r\n    return (\r\n        <div>\r\n            <ProfileInfo savePhoto={savePhoto} isOwner={isOwner} profile={profile}\r\n                         status={status} updateStatus={updateStatus}\r\n                         saveProfile={saveProfile}\r\n\r\n            />\r\n            <MyPosts/>\r\n        </div>\r\n    );\r\n\r\n});\r\ntype PropsType = {\r\n    profile: NewProfileType | null\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    isOwner: boolean\r\n    savePhoto: (file: File) => void\r\n    saveProfile: (formData: any) => any\r\n\r\n}\r\n\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {RouteComponentProps, withRouter} from 'react-router-dom';\r\nimport {compose} from 'redux';\r\nimport {Profile} from './ProfileContent';\r\nimport {NewProfileType} from '../../../Types/Types';\r\nimport {AppRootStateType} from '../../../SN-1-main/m2-bll/redux-store';\r\nimport {getUserProfile, getUserStatus, savePhoto, saveProfile, updateUserStatus} from '../p2-bll/profile-reducer';\r\nimport {withAuthRedirect} from '../../../HOC/WithAuthRedirect';\r\n\r\n\r\ntype MapPropsType = ReturnType<typeof mapStateToProps>\r\ntype DispatchPropsType = {\r\n    getUserProfile: (userId: number | null) => void\r\n    getUserStatus: (userId: number | null) => void\r\n    updateUserStatus: (status: string) => void\r\n    savePhoto: (file: File) => void\r\n    saveProfile: (profile: NewProfileType) => Promise<any>\r\n}\r\n\r\ntype PathParamsType = {\r\n    userId: string\r\n\r\n}\r\n\r\n\r\ntype PropsType = MapPropsType & DispatchPropsType & RouteComponentProps<PathParamsType>;\r\n//\r\n// type HooksType = {}\r\n// const ProfileHooks: React.FC<HooksType> = (props) => {\r\n//     const {id} = useParams<{ id: string }>()\r\n//     const dispatch = useDispatch();\r\n//     const profile = useSelector(getProfile)\r\n//     const status = useSelector(getStatus)\r\n//     const isAuth = useSelector(getIsAuth)\r\n//     const authorizedUserId = useSelector(getUserId)\r\n//\r\n//     const getUserProfile = useCallback((userId: number | null) => {\r\n//         dispatch(getUserProfile(userId))\r\n//     }, [dispatch])\r\n//     const getUserStatus = useCallback((userId: number | null) => {\r\n//         dispatch(getUserStatus(userId))\r\n//     }, [dispatch])\r\n//     const updateUserStatus = useCallback((status: string) => {\r\n//         dispatch(updateUserStatus(status))\r\n//     }, [dispatch])\r\n//     const savePhoto = useCallback((photo: File) => {\r\n//         dispatch(savePhoto(photo))\r\n//     }, [])\r\n//     const saveProfile = useCallback(async (profile: NewProfileType): Promise<any> => {\r\n//         await dispatch(saveProfile(profile))\r\n//     }, [])\r\n//\r\n//\r\n//     useEffect(() => {\r\n//     }, [])\r\n//\r\n//\r\n//     return (\r\n//         <div>\r\n//\r\n//\r\n//         </div>);\r\n//\r\n// }\r\n\r\n\r\nclass ProfileContentContainerAPI extends React.Component<PropsType> {\r\n    constructor(props: PropsType) {\r\n        super(props);\r\n    }\r\n\r\n    refreshProfile() {\r\n        let userId: number | null = +this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n            if (!userId) {\r\n                this.props.history.push('/login');\r\n            }\r\n        }\r\n\r\n        if (!userId) {\r\n            console.error('ID should exists in URI params or in state (\\'authorizedUserId\\')');\r\n        } else {\r\n            this.props.getUserProfile(userId);\r\n            this.props.getUserStatus(userId);\r\n        }\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        this.refreshProfile();\r\n    }\r\n\r\n    componentDidUpdate(prevProps: PropsType, prevState: PropsType) {\r\n        if (this.props.match.params.userId != prevProps.match.params.userId) {\r\n            this.refreshProfile();\r\n        }\r\n\r\n    }\r\n\r\n    componentWillUnmount(): void {\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Profile\r\n                    {...this.props}\r\n                    isOwner={!this.props.match.params.userId}\r\n                    profile={this.props.profile}\r\n                    status={this.props.status}\r\n                    updateStatus={this.props.updateUserStatus}\r\n                />\r\n\r\n            </div>);\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppRootStateType) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    isAuth: state.auth.isAuth,\r\n    authorizedUserId: state.auth.userId,\r\n\r\n\r\n});\r\n\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {\r\n        getUserProfile,\r\n        getUserStatus,\r\n        updateUserStatus,\r\n        savePhoto,\r\n        saveProfile\r\n    }),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContentContainerAPI);\r\n\r\n\r\n","import {AppRootStateType} from '../../../SN-1-main/m2-bll/redux-store';\r\n\r\n\r\nexport const getLogin = (state: AppRootStateType): string | null => {\r\n    return state.auth.login;\r\n};\r\nexport const getError = (state: AppRootStateType): string => {\r\n    return state.auth.error;\r\n};\r\n","import React from 'react';\r\n\r\nexport const LoginLabel = () => {\r\n    return (\r\n        <div>\r\n            <p>To log in or get registered\r\n                <a href={'https://social-network.samuraijs.com/'}\r\n                   target={'_blank'}> HERE\r\n                </a>\r\n            </p>\r\n            <p>or use common test account credentials:</p>\r\n            <p>Email: <b>free@samuraijs.com</b></p>\r\n            <p>Password: <b>free</b></p>\r\n        </div>)\r\n}","import React from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {authActions, loginTC} from '../l2-bll/auth-reducer';\r\nimport {Button, Checkbox, Form, Input} from 'antd';\r\nimport st from './Login.module.css';\r\nimport {EyeInvisibleOutlined, EyeTwoTone, LockOutlined, UserOutlined} from '@ant-design/icons/lib/icons';\r\nimport {getIsAuth} from '../../f2-profile/p2-bll/profile-selectors';\r\nimport {PROFILE_PATH} from '../../../SN-3-common/routes/Routes';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {getError} from '../l2-bll/auth-selectors';\r\nimport {LoginLabel} from './l2-old-features/LoginLabel';\r\n\r\nconst Login = () => {\r\n    const dispatch = useDispatch();\r\n    const error = useSelector(getError);\r\n    const isAuth = useSelector(getIsAuth);\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={PROFILE_PATH}/>;\r\n    }\r\n    const onSubmit = async (values: {\r\n        email: string,\r\n        password: string\r\n    }) => {\r\n        await dispatch(loginTC(values));\r\n    };\r\n    const resetError = () => {\r\n        dispatch(authActions.setError(''))\r\n    }\r\n    return (<Form onFinish={onSubmit}\r\n                  className={st.loginForm}\r\n        >\r\n            <LoginLabel/>\r\n            <Form.Item\r\n                name=\"email\"\r\n                {...error && {\r\n                    help: error,\r\n                    validateStatus: 'error',\r\n                }}\r\n\r\n                rules={[\r\n                    {\r\n                        type: 'email',\r\n                        message: 'The input is not valid E-mail!',\r\n                    },\r\n                    {\r\n                        required: true,\r\n                        message: 'Please input your Email!',\r\n                    },\r\n                ]}\r\n            >\r\n                <Input prefix={<UserOutlined className=\"site-form-item-icon\"/>}\r\n                       type=\"email\"\r\n                       name=\"email\"\r\n                       placeholder=\"Email\"\r\n                       onClick={resetError}\r\n                />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"password\"\r\n                {...error && {\r\n                    help: error,\r\n                    validateStatus: 'error'\r\n                }}\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: 'Please input your Password!',\r\n                    },\r\n\r\n                ]}\r\n            >\r\n                <Input.Password\r\n                    prefix={<LockOutlined className=\"site-form-item-icon\"/>}\r\n                    placeholder=\"Password\"\r\n                    iconRender={visible => (visible ? <EyeTwoTone/> : <EyeInvisibleOutlined/>)}\r\n                    onClick={resetError}\r\n                />\r\n            </Form.Item>\r\n            <Form.Item>\r\n                <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\r\n                    <Checkbox>Remember me</Checkbox>\r\n                </Form.Item>\r\n                <a target={'_blank'} className={st.loginFormForgot} href=\"https://social-network.samuraijs.com/login\">\r\n                    Forgot password\r\n                </a>\r\n            </Form.Item>\r\n            <Form.Item>\r\n                <Button type=\"primary\" htmlType=\"submit\" className={st.loginFormButton}\r\n                >\r\n                    Log in\r\n                </Button>\r\n                Or <a target={'_blank'} href=\"https://social-network.samuraijs.com/signUp\">register now!</a>\r\n            </Form.Item>\r\n\r\n        </Form>\r\n    );\r\n};\r\n\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport {Redirect, Route, Switch} from 'react-router-dom';\r\nimport {SuspendedChat, SuspendedDialogs} from '../../SN-1-main/m1-ui/App';\r\nimport Settings from '../../SN-2-features/f8-settings/n1-ui/Settings';\r\nimport Music from '../../SN-2-features/f6-music/m1-ui/Music';\r\nimport {Page404} from '../Page404/Page404';\r\nimport UsersPage from '../../SN-2-features/f4-users/u1-ui/UsersPage';\r\nimport ProfileContentContainerAPI from '../../SN-2-features/f2-profile/p1-ui/ProfileContentContainerAPI';\r\nimport Login from '../../SN-2-features/f1-login/l1-ui/Login';\r\n\r\n\r\nexport const SIGN_IN_PATH = '/login';\r\nexport const PROFILE_PATH = '/profile';\r\nexport const DIALOGS_PATH = '/dialogs';\r\nexport const USERS_PATH = '/users';\r\nexport const CHAT_PATH = '/chat';\r\nexport const NEWS_PATH = '/news';\r\nexport const MUSIC_PATH = '/music';\r\nexport const SETTINGS_PATH = '/settings';\r\nexport const PAGE_NOT_FOUND_PATH = '/404';\r\n\r\ntype PropsType = {}\r\nexport const Routes: React.FC<PropsType> = (props) => {\r\n\r\n    return <>\r\n        <Switch>\r\n            <Route path={SIGN_IN_PATH} render={() => <Login/>}/>\r\n            <Route exact path='/'\r\n                   render={() => <Redirect to={PROFILE_PATH}/>}/>\r\n            <Route path={DIALOGS_PATH} render={() => <SuspendedDialogs/>}/>\r\n            <Route path={PROFILE_PATH + '/:userId?'} render={() =>\r\n                <ProfileContentContainerAPI/>}/>\r\n            <Route path={USERS_PATH} render={() => <UsersPage/>}/>\r\n            <Route path={NEWS_PATH} render={() => <Login/>}/>\r\n            <Route path={PAGE_NOT_FOUND_PATH} render={() => <Page404/>}/>\r\n            <Route path={MUSIC_PATH} render={() => <Music/>}/>\r\n            <Route path={SETTINGS_PATH} render={() => <Settings/>}/>\r\n            <Route path={CHAT_PATH} render={() => <SuspendedChat/>}/>\r\n            <Redirect from={'*'} to={PAGE_NOT_FOUND_PATH}/>\r\n        </Switch>\r\n\r\n    </>;\r\n};\r\n\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {Menu} from 'antd';\r\nimport {\r\n    CommentOutlined,\r\n    CustomerServiceOutlined,\r\n    FileOutlined,\r\n    SettingOutlined,\r\n    SoundOutlined,\r\n    TeamOutlined,\r\n    UserAddOutlined,\r\n    UserOutlined\r\n} from '@ant-design/icons';\r\nimport {CHAT_PATH, DIALOGS_PATH, NEWS_PATH, PROFILE_PATH, USERS_PATH} from '../routes/Routes';\r\n\r\nconst {SubMenu} = Menu;\r\ntype PropsType = {}\r\nexport const Nav: React.FC<PropsType> = () => {\r\n    return (\r\n        <Menu theme=\"dark\" mode=\"inline\">\r\n            <Menu.Item key=\"1\" icon={<UserOutlined/>}>\r\n                <Link to={PROFILE_PATH}>Profile</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"Main/Messages\" icon={<CommentOutlined/>}>\r\n                <Link to={DIALOGS_PATH}>Messages</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"Main/Friends\" icon={<TeamOutlined/>}>\r\n                <Link to={USERS_PATH}>Friends</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"Main/People\" icon={<UserAddOutlined/>}>\r\n                <Link to={USERS_PATH}>People</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"Main/Chat\" icon={<UserAddOutlined/>}>\r\n                <Link to={CHAT_PATH}>Chat</Link>\r\n            </Menu.Item>\r\n            <SubMenu key=\"Music\" icon={<CustomerServiceOutlined/>} title=\"Music\">\r\n                <Menu.Item key=\"Music/New\">New music</Menu.Item>\r\n                <Menu.Item key=\"Music/My\">My music</Menu.Item>\r\n                <Menu.Item key=\"Music/All\">All music</Menu.Item>\r\n            </SubMenu>\r\n            <SubMenu key=\"News\" icon={<SoundOutlined/>} title=\"News\">\r\n                <Menu.Item key=\"News/Friends\">Friends</Menu.Item>\r\n                <Menu.Item key=\"News/World\">World</Menu.Item>\r\n                <Menu.Item key=\"News/City\">City</Menu.Item>\r\n            </SubMenu>\r\n            <SubMenu key=\"Settings\" icon={<SettingOutlined/>} title=\"Settings\">\r\n                <Menu.Item key=\"Settings/General\">General</Menu.Item>\r\n                <Menu.Item key=\"Settings/Security\">Security</Menu.Item>\r\n                <Menu.Item key=\"Settings/Privacy\">Privacy</Menu.Item>\r\n            </SubMenu>\r\n            <Menu.Item key=\"Login\" icon={<FileOutlined/>}>\r\n                <Link to={NEWS_PATH}>Login</Link>\r\n            </Menu.Item>\r\n        </Menu>\r\n    );\r\n\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport st from './Header.module.css';\r\nimport {Link} from 'react-router-dom';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\n\r\nimport {Button} from 'antd';\r\nimport {getIsAuth} from '../../SN-2-features/f2-profile/p2-bll/profile-selectors';\r\nimport {logoutTC} from '../../SN-2-features/f1-login/l2-bll/auth-reducer';\r\nimport {getLogin} from '../../SN-2-features/f1-login/l2-bll/auth-selectors';\r\nimport {SIGN_IN_PATH} from '../routes/Routes';\r\n\r\ntype PropsType = {}\r\nexport const HeaderM: React.FC<PropsType> = (props) => {\r\n    const dispatch = useDispatch()\r\n    const isAuth = useSelector(getIsAuth)\r\n    const login = useSelector(getLogin)\r\n\r\n    const logout = () => {\r\n        dispatch(logoutTC())\r\n    }\r\n\r\n    return (\r\n        <div className={st.loginBlock}>\r\n            {isAuth\r\n                ? <>{login} - <Button type=\"primary\"   onClick={logout}>Log out</Button></>\r\n                : <Link to={SIGN_IN_PATH}>Login</Link>}\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\n","import {applyMiddleware, combineReducers, createStore, Store} from 'redux';\r\n\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport appReducer from './app-reducer';\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport profileReducer from '../../SN-2-features/f2-profile/p2-bll/profile-reducer';\r\nimport dialogsReducer from '../../SN-2-features/f3-dialogs/d2-bll/dialogs-reducer';\r\nimport usersReducer from '../../SN-2-features/f4-users/u2-bll/users-reducer';\r\nimport authReducer from '../../SN-2-features/f1-login/l2-bll/auth-reducer';\r\nimport chatReducer from '../../SN-2-features/f5-chat/c2-bll/chat-reducer';\r\n\r\nconst reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app:appReducer,\r\n    form: formReducer,\r\n    chat:chatReducer\r\n});\r\n// We have to combine reducers, it's like our SN-1-main state\r\n\r\n\r\nlet store: Store = createStore(reducers, composeWithDevTools(applyMiddleware(thunkMiddleware)));\r\nexport type AppRootStateType = ReturnType<typeof reducers>\r\n// @ts-ignore\r\nwindow.store = store;\r\n\r\nexport default store;\r\n","import React, {useEffect, useState} from 'react';\r\nimport './App.css';\r\nimport {BrowserRouter} from 'react-router-dom';\r\nimport {Provider, useDispatch, useSelector} from 'react-redux';\r\nimport logoNew from '../../photo/samurai-robot-head-esport-mascot-logo_160921-34-removebg-preview.png'\r\nimport 'antd/dist/antd.css';\r\n\r\nimport {Layout} from 'antd';\r\nimport {withSuspense} from '../../HOC/withSuspense';\r\nimport {getIsInitialized} from '../m2-bll/app-selectors';\r\nimport {setInitializedTC} from '../m2-bll/app-reducer';\r\nimport PreLoader from '../../SN-3-common/preLoader/preLoader';\r\nimport {Nav} from '../../SN-3-common/Nav/Nav';\r\nimport {HeaderM} from '../../SN-3-common/Header/Header';\r\nimport {Routes} from '../../SN-3-common/routes/Routes';\r\nimport store from '../m2-bll/redux-store';\r\n\r\n\r\ntype PropsType = {}\r\n\r\nconst {Header, Content, Footer, Sider} = Layout;\r\n\r\n\r\nconst DialogContainer = React.lazy(() => import('../../SN-2-features/f3-dialogs/d1-ui/Dialogs'));\r\nconst ChatContainer = React.lazy(() => import('../../SN-2-features/f5-chat/c1-ui/ChatPage'));\r\n// type MapPropsType = ReturnType<typeof mapStateToProps>\r\n// type DispatchPropsType = {\r\n//     setInitializedTC: () => void\r\n// }\r\nexport const SuspendedDialogs = withSuspense(DialogContainer);\r\nexport const SuspendedChat = withSuspense(ChatContainer);\r\nexport const AppHooks: React.FC<PropsType> = () => {\r\n    const dispatch = useDispatch()\r\n    const [collapsed, setCollapsed] = useState<boolean>(false)\r\n    const isInitialized = useSelector(getIsInitialized)\r\n\r\n    useEffect(() => {\r\n        dispatch(setInitializedTC());\r\n    }, [dispatch])\r\n\r\n    const onCollapse = () => {\r\n        setCollapsed(!collapsed);\r\n    };\r\n\r\n    if (!isInitialized) {\r\n        return <PreLoader/>;\r\n    }\r\n    return (<div>\r\n            <Layout style={{minHeight: '100vh'}}>\r\n                <Sider collapsible collapsed={collapsed} onCollapse={onCollapse}>\r\n                    <div className=\"logo\"><img src={logoNew} alt=\"newLogo\"/></div>\r\n                    <Nav/>\r\n                </Sider>\r\n                <Layout className=\"site-layout\">\r\n                    <Header className=\"site-layout-background\">\r\n                        <HeaderM/>\r\n                    </Header>\r\n                    <Content style={{margin: '0 16px'}}>\r\n                        <Routes/>\r\n                    </Content>\r\n                    <Footer style={{textAlign: 'center'}}>Samurai Social Network ©2020 Created by Alex Dubrovskii &\r\n                        IT-KAMASUTRA</Footer>\r\n                </Layout>\r\n            </Layout>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n//\r\n// class App extends React.Component<MapPropsType & DispatchPropsType> {\r\n//     state = {\r\n//         collapsed: false,\r\n//     };\r\n//\r\n//     catchAllUnhandledError = (e: PromiseRejectionEvent) => {\r\n//         alert('Some Error');\r\n//\r\n//     };\r\n//\r\n//     onCollapse = (collapsed: boolean) => {\r\n//         console.log(collapsed);\r\n//         this.setState({collapsed});\r\n//     };\r\n//\r\n//     componentDidMount() {\r\n//         this.props.setInitializedTC();\r\n//         if (this.props.isAuth) return <Redirect to={SIGN_IN_PATH}/>;\r\n//         window.addEventListener('unhandledrejection', this.catchAllUnhandledError);\r\n//     }\r\n//\r\n//     componentWillUnmount() {\r\n//         window.removeEventListener('unhandledrejection', this.catchAllUnhandledError);\r\n//     }\r\n//\r\n//     render() {\r\n//         if (!this.props.isInitialized) {\r\n//             return <PreLoader/>;\r\n//         }\r\n//         const {collapsed} = this.state;\r\n//         return (\r\n//             <Layout style={{minHeight: '100vh'}}>\r\n//                 <Sider collapsible collapsed={collapsed} onCollapse={this.onCollapse}>\r\n//                     <div className=\"logo\"><img src={logoNew} alt=\"newLogo\"/></div>\r\n//                     <Nav/>\r\n//                 </Sider>\r\n//                 <Layout className=\"site-layout\">\r\n//                     <Header className=\"site-layout-background\">\r\n//                         <HeaderM/>\r\n//                     </Header>\r\n//                     <Content style={{margin: '0 16px'}}>\r\n//                         <Routes/>\r\n//                     </Content>\r\n//                     <Footer style={{textAlign: 'center'}}>Samurai Social Network ©2020 Created by Alex Dubrovskii &\r\n//                         IT-KAMASUTRA</Footer>\r\n//                 </Layout>\r\n//             </Layout>\r\n//\r\n//\r\n//         );\r\n//     }\r\n// }\r\n//\r\n// type mapStateToPropsType = {\r\n//     isInitialized: boolean\r\n//     isAuth: boolean\r\n//     login: string | null\r\n// }\r\n// const mapStateToProps = (state: AppRootStateType): mapStateToPropsType => ({\r\n//     isInitialized: state.app.isInitialized,\r\n//     isAuth: state.auth.isAuth,\r\n//     login: state.auth.login\r\n// });\r\n//\r\n// const AppContainer = compose<React.ComponentType>(\r\n//     withRouter,\r\n//     connect(mapStateToProps, {setInitializedTC}))(App);\r\n\r\nconst SamuraiJSApp: React.FC = () => {\r\n    return <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n        <Provider store={store}>\r\n            <AppHooks/>\r\n        </Provider>\r\n    </BrowserRouter>;\r\n\r\n};\r\nexport default SamuraiJSApp;\r\n","import React from 'react';\r\n\r\nimport ReactDOM from 'react-dom';\r\nimport SamuraiJSApp from './SN-1-main/m1-ui/App';\r\n\r\nReactDOM.render(\r\n    <SamuraiJSApp/>,\r\n    document.getElementById('root')\r\n);\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n\r\n","import {v1} from 'uuid';\r\nimport {InferActionsTypes} from '../../../Types/Types';\r\n\r\n\r\nlet initialState = {\r\n    messageData: [\r\n        {id: v1(), message: 'Hello'},\r\n        {id: v1(), message: 'My name'},\r\n        {id: v1(), message: 'My name is'},\r\n        {id: v1(), message: 'My name is Sasha'}\r\n    ] as Array<messageDataType>,\r\n    dialogsData: [\r\n        {id: v1(), name: 'Artem'},\r\n        {id: v1(), name: 'Vova'},\r\n        {id: v1(), name: 'Dima'},\r\n        {id: v1(), name: 'Masha'},\r\n        {id: v1(), name: 'Egor'}\r\n    ] as Array<dialogsDataType>\r\n};\r\n\r\nexport const dialogsReducer = (state: InitialStateDialogsType = initialState, action: ActionsType): InitialStateDialogsType => {\r\n    switch (action.type) {\r\n        case 'DIALOGS/SEND-NEW-MESSAGE-TEXT':\r\n            return {\r\n                ...state,\r\n                messageData: [...state.messageData, {id: v1(), message: action.newMessageBody}],\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\nexport const dialogsActions = {\r\n    sendMessage: (newMessageBody: string) => ({type: 'DIALOGS/SEND-NEW-MESSAGE-TEXT', newMessageBody} as const),\r\n};\r\n\r\n\r\nexport type  InitialStateDialogsType = typeof initialState\r\nexport type ActionsType = InferActionsTypes<typeof dialogsActions>\r\ntype messageDataType = {\r\n    id: string\r\n    message: string\r\n}\r\ntype dialogsDataType = {\r\n    id: string\r\n    name: string\r\n}\r\n\r\nexport default dialogsReducer;\r\n","const subscribers = {\r\n    'messages-received': [] as MessagesReceivedSubscriberType[],\r\n    'status-changed': [] as StatusChangedSubscriberType[]\r\n}\r\n\r\nlet ws: WebSocket | null = null\r\ntype EventsNamesType = 'messages-received' | 'status-changed'\r\n\r\nconst closeHandler = () => {\r\n    notifySubscribersAboutStatus('pending')\r\n    setTimeout(createChannel, 3000)\r\n}\r\nconst messageHandler = (e: MessageEvent) => {\r\n    const newMessages = JSON.parse(e.data)\r\n    subscribers['messages-received'].forEach(s => s(newMessages))\r\n}\r\nconst openHandler = () => {\r\n    notifySubscribersAboutStatus('ready')\r\n}\r\nconst errorHandler = () => {\r\n    notifySubscribersAboutStatus('error')\r\n    console.error('REFRESH PAGE')\r\n}\r\nconst cleanUp = () => {\r\n    ws?.removeEventListener('close', closeHandler)\r\n    ws?.removeEventListener('message', messageHandler)\r\n    ws?.removeEventListener('open', openHandler)\r\n    ws?.removeEventListener('error', errorHandler)\r\n}\r\nconst notifySubscribersAboutStatus = (status: StatusType) => {\r\n    subscribers['status-changed'].forEach(s => s(status))\r\n}\r\n\r\nfunction createChannel() {\r\n    cleanUp()\r\n    ws?.close()\r\n    ws = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx')\r\n    notifySubscribersAboutStatus('pending')\r\n    ws.addEventListener('close', closeHandler)\r\n    ws.addEventListener('message', messageHandler)\r\n    ws.addEventListener('open', openHandler)\r\n    ws.addEventListener('error', errorHandler)\r\n}\r\n\r\n\r\nexport const chatAPI = {\r\n    start() {\r\n        createChannel()\r\n    },\r\n    stop() {\r\n        subscribers['messages-received'] = []\r\n        subscribers['status-changed'] = []\r\n        cleanUp()\r\n        ws?.close()\r\n    },\r\n    subscribe(eventName: EventsNamesType, callback: MessagesReceivedSubscriberType | StatusChangedSubscriberType) {\r\n        // @ts-ignore\r\n        subscribers[eventName].push(callback)\r\n        return () => {\r\n            // @ts-ignore\r\n            subscribers[eventName] = subscribers[eventName].filter(s => s !== callback)\r\n        }\r\n    },\r\n    unsubscribe(eventName: EventsNamesType, callback: MessagesReceivedSubscriberType | StatusChangedSubscriberType) {\r\n        // @ts-ignore\r\n        subscribers[eventName] = subscribers[eventName].filter(s => s !== callback)\r\n    },\r\n    sendMessage(message: string) {\r\n        ws?.send(message)\r\n    }\r\n}\r\n\r\ntype MessagesReceivedSubscriberType = (messages: ChatMessageAPIType[]) => void\r\ntype StatusChangedSubscriberType = (status: StatusType) => void\r\n\r\nexport type ChatMessageAPIType = {\r\n    message: string\r\n    photo: string\r\n    userId: number\r\n    userName: string\r\n}\r\nexport type StatusType = 'pending' | 'ready' | 'error'\r\n","import {Dispatch} from 'redux';\r\n\r\nimport {FormAction} from 'redux-form';\r\nimport {v1} from 'uuid';\r\nimport {chatAPI, ChatMessageAPIType, StatusType} from '../c3-dal/chat-api';\r\nimport {BaseThunkType, InferActionsTypes} from '../../../Types/Types';\r\n\r\nexport type ChatMessageType = ChatMessageAPIType & { id: string }\r\n\r\nlet initialState = {\r\n    messages: [] as ChatMessageType[],\r\n    status: 'pending' as StatusType\r\n};\r\n\r\nconst chatReducer = (state = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'chat/MESSAGES_RECEVIED':\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, ...action.payload.messages.map(m => ({...m, id: v1()}))]\r\n                    .filter((m, index, array) => index >= array.length - 100)\r\n            };\r\n        case 'chat/STATUS_CHANGED':\r\n            return {\r\n                ...state,\r\n                status: action.payload.status\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const actions = {\r\n    messagesReceived: (messages: ChatMessageAPIType[]) => ({\r\n        type: 'chat/MESSAGES_RECEVIED', payload: {messages}\r\n    } as const),\r\n    statusChanged: (status: StatusType) => ({\r\n        type: 'chat/STATUS_CHANGED', payload: {status}\r\n    } as const)\r\n};\r\n\r\nlet _newMessageHandler: ((messages: ChatMessageAPIType[]) => void) | null = null;\r\nconst newMessageHandlerCreator = (dispatch: Dispatch) => {\r\n    if (_newMessageHandler === null) {\r\n        _newMessageHandler = (messages) => {\r\n            dispatch(actions.messagesReceived(messages));\r\n        };\r\n    }\r\n    return _newMessageHandler;\r\n};\r\n\r\nlet _statusChangedHandler: ((status: StatusType) => void) | null = null;\r\nconst statusChangedHandlerCreator = (dispatch: Dispatch) => {\r\n    if (_statusChangedHandler === null) {\r\n        _statusChangedHandler = (status) => {\r\n            dispatch(actions.statusChanged(status));\r\n        };\r\n    }\r\n    return _statusChangedHandler;\r\n};\r\n\r\nexport const startMessagesListening = (): ThunkType => async (dispatch) => {\r\n    chatAPI.start();\r\n    chatAPI.subscribe('messages-received', newMessageHandlerCreator(dispatch));\r\n    chatAPI.subscribe('status-changed', statusChangedHandlerCreator(dispatch));\r\n\r\n};\r\nexport const stopMessagesListening = (): ThunkType => async (dispatch) => {\r\n    chatAPI.unsubscribe('messages-received', newMessageHandlerCreator(dispatch));\r\n    chatAPI.unsubscribe('status-changed', statusChangedHandlerCreator(dispatch));\r\n    chatAPI.stop();\r\n};\r\n\r\nexport const sendMessage = (message: string): ThunkType => async (dispatch) => {\r\n    chatAPI.sendMessage(message);\r\n};\r\n\r\n\r\nexport default chatReducer;\r\n\r\nexport type InitialStateType = typeof initialState;\r\ntype ActionsType = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsType | FormAction>\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pnf\":\"Page404_pnf__3FOeR\",\"pnf_error\":\"Page404_pnf_error__265Ij\",\"pnf_descr\":\"Page404_pnf_descr__79n_f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userAvatar\":\"Users_userAvatar__sjLDg\",\"selected\":\"Users_selected__1Mlex\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginBlock\":\"Header_loginBlock__HePMc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Post_wrapper__3z609\",\"items\":\"Post_items__1IV45\",\"messageBox\":\"Post_messageBox__DCgjW\",\"buttonsBlock\":\"Post_buttonsBlock__zsqWk\",\"likes\":\"Post_likes__1KPuC\",\"item\":\"Post_item__2aTQE\",\"body\":\"Post_body__2HIo-\",\"button\":\"Post_button__1yPaD\",\"button_line\":\"Post_button_line__aeNwL\",\"button_line_top\":\"Post_button_line_top__39Cxh\",\"button_line_bottom\":\"Post_button_line_bottom__1Wpex\",\"button_line_left\":\"Post_button_line_left__3naAK\",\"button_line_right\":\"Post_button_line_right__3WR0Z\"};","import React from 'react';\r\nimport st from './FormControls.module.css';\r\nimport {Field, WrappedFieldMetaProps, WrappedFieldProps} from 'redux-form';\r\nimport {FieldValidatorType} from '../../utils/validators/validators';\r\n\r\ntype FormControlParamsType = {\r\n    meta: WrappedFieldMetaProps\r\n\r\n}\r\n\r\n\r\nconst FormControl: React.FC<FormControlParamsType> = ({meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    // <div className={`${st.formControl} ${st.error}`}>\r\n    return <div className={st.formControl + ' ' + (hasError ? st.error : '')}>\r\n        <div>\r\n            {children}\r\n        </div>\r\n        {hasError && <span>{error}</span>}\r\n\r\n    </div>;\r\n};\r\n\r\nexport const Textarea: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, children, ...restProps} = props;\r\n    return <FormControl {...props}>\r\n        <textarea {...input} {...restProps}/>\r\n    </FormControl>;\r\n};\r\n\r\n\r\nexport const MyInput: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, children, ...restProps} = props;\r\n    return <FormControl {...props}>\r\n        <input {...input} {...restProps}/>\r\n    </FormControl>;\r\n};\r\n\r\n\r\nexport function createField<FormKeysType extends string>(placeholder: string | undefined,\r\n                                                         name: FormKeysType,\r\n                                                         validators: Array<FieldValidatorType>,\r\n                                                         component: React.FC<WrappedFieldProps>,\r\n                                                         props = {}, text = '') {\r\n    return <div>\r\n        <Field placeholder={placeholder} name={name} validate={validators} component={component} {...props}\r\n        /> {text}\r\n    </div>;\r\n}\r\n\r\nexport type GetStringKeys<T> = Extract<keyof T, string>\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"MyPosts_item__ta9Eo\",\"sc\":\"MyPosts_sc__2bwPq\",\"text\":\"MyPosts_text__18Msl\",\"body\":\"MyPosts_body__3o5Cu\",\"button\":\"MyPosts_button__16Bck\",\"button_line\":\"MyPosts_button_line__1_N6u\",\"button_line_top\":\"MyPosts_button_line_top__25_x8\",\"button_line_bottom\":\"MyPosts_button_line_bottom__37hT_\",\"button_line_left\":\"MyPosts_button_line_left__1J0nY\",\"button_line_right\":\"MyPosts_button_line_right__9eR4Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"preLoader_loader__1ZqdL\",\"l_main\":\"preLoader_l_main__3EjlI\",\"l_square\":\"preLoader_l_square__1IlWa\",\"animsquare1\":\"preLoader_animsquare1__XYXxK\",\"animsquare2\":\"preLoader_animsquare2__3Wan2\",\"animsquare3\":\"preLoader_animsquare3__LW6eE\",\"animsquare4\":\"preLoader_animsquare4__1pvJp\"};"],"sourceRoot":""}