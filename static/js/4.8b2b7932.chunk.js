(this["webpackJsonppath-of-samurai"]=this["webpackJsonppath-of-samurai"]||[]).push([[4],{2023:function(e,t,c){"use strict";c.r(t);var r=c(50);var n=c(4),s=c(22),i=c(0),j=c.n(i),a=c(229),u=c(126),o=c(121),b=function(){var e=Object(s.c)(),t=Object(s.d)((function(e){return e.chat.status}));return Object(i.useEffect)((function(){return e(Object(a.c)()),function(){e(Object(a.d)())}}),[]),Object(n.jsxs)("div",{children:["error"===t&&Object(n.jsx)("div",{children:"Some error occured. Please refresh the page"}),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(l,{}),Object(n.jsx)(O,{})]})]})},l=function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var t=Object(s.d)((function(e){return e.chat.messages})),c=Object(i.useRef)(null),j=Object(i.useState)(!0),a=Object(r.a)(j,2),u=a[0],o=a[1];return Object(i.useEffect)((function(){var e;u&&(null===(e=c.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[t,u]),Object(n.jsxs)("div",{style:{height:"400px",overflowY:"auto"},onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<300?!u&&o(!0):u&&o(!1)},children:[t.map((function(e,t){return Object(n.jsx)(d,{message:e},e.id)})),Object(n.jsx)("div",{ref:c})]})},d=j.a.memo((function(e){var t=e.message;return console.log(">>>>>>Message"),Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{src:t.photo,style:{width:"30px"}})," ",Object(n.jsx)("b",{children:t.userName}),Object(n.jsx)("br",{}),t.message,Object(n.jsx)("hr",{})]})})),O=function(){var e=Object(i.useState)(""),t=Object(r.a)(e,2),c=t[0],j=t[1],u=Object(s.c)(),b=Object(s.d)((function(e){return e.chat.status}));return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:Object(n.jsx)("textarea",{onChange:function(e){return j(e.currentTarget.value)},value:c})}),Object(n.jsx)("div",{children:Object(n.jsx)(o.a,{onClick:function(){c&&(u(Object(a.b)(c)),j(""))},disabled:"ready"!==b,type:"primary",children:"Send"})})]})};t.default=Object(u.a)((function(){return Object(n.jsx)("div",{children:Object(n.jsx)(b,{})})}))}}]);
//# sourceMappingURL=4.8b2b7932.chunk.js.map